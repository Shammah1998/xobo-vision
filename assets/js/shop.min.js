function initializeCart(){document.querySelectorAll(".add-to-cart-form").forEach(i=>{i.addEventListener("submit",function(t){let e=i.querySelector(".add-to-cart-btn"),n=e.textContent;e.textContent="Adding...",e.disabled=!0,setTimeout(()=>{e.textContent=n,e.disabled=!1},1e3)})})}function initializeFormValidations(){var n=document.querySelector('form[action=""]');if(n&&n.querySelector('input[name="confirm_password"]')){let t=n.querySelector('input[name="password"]'),e=n.querySelector('input[name="confirm_password"]');e.addEventListener("blur",function(){t.value!==e.value?e.setCustomValidity("Passwords do not match"):e.setCustomValidity("")}),t.addEventListener("input",function(){e.value&&t.value!==e.value?e.setCustomValidity("Passwords do not match"):e.setCustomValidity("")})}document.querySelectorAll('input[type="email"]').forEach(t=>{t.addEventListener("blur",function(){t.value&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)?t.setCustomValidity("Please enter a valid email address"):t.setCustomValidity("")})})}function initializeQuantityControls(){document.querySelectorAll('input[type="number"]').forEach(t=>{t.addEventListener("input",function(){parseInt(this.value)<0&&(this.value=0)}),t.closest(".quantity-input")&&addQuantityButtons(t)})}function addQuantityButtons(e){var t,n,i;e.closest(".quantity-input").querySelector(".qty-btn")||((t=document.createElement("button")).type="button",t.className="qty-btn qty-decrement",t.innerHTML="-",t.addEventListener("click",function(){var t=parseInt(e.value)||0;t>(e.min?parseInt(e.min):0)&&(e.value=t-1,e.dispatchEvent(new Event("change")))}),(n=document.createElement("button")).type="button",n.className="qty-btn qty-increment",n.innerHTML="+",n.addEventListener("click",function(){var t=parseInt(e.value)||0;t<(e.max?parseInt(e.max):999)&&(e.value=t+1,e.dispatchEvent(new Event("change")))}),(i=document.createElement("div")).className="qty-controls",e.parentNode.insertBefore(i,e),i.appendChild(t),i.appendChild(e),i.appendChild(n))}function showNotification(t,e="success"){let n=document.createElement("div");n.className=`alert alert-${e} notification`,n.textContent=t,n.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        min-width: 300px;
        animation: slideIn 0.3s ease;
    `,document.body.appendChild(n),setTimeout(()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>{n.remove()},300)},3e3)}document.addEventListener("DOMContentLoaded",function(){initializeCart(),initializeFormValidations(),initializeQuantityControls()});let style=document.createElement("style");function updateCartDisplay(){document.querySelectorAll('a[href*="cart"]')}function autoSaveCart(){}function initializeSearch(){var e=document.querySelector(".search-input");if(e){let t;e.addEventListener("input",function(){clearTimeout(t),t=setTimeout(()=>{performSearch(this.value)},300)})}}function performSearch(t){}function showLoading(t){t.style.opacity="0.6",t.style.pointerEvents="none"}function hideLoading(t){t.style.opacity="1",t.style.pointerEvents="auto"}function confirmAction(t,e){confirm(t)&&e()}function formatCurrency(t){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:2}).format(t)}style.textContent=`
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
    
    .qty-controls {
        display: flex;
        align-items: center;
        gap: 0;
        max-width: 120px;
    }
    
    .qty-btn {
        background: #f8f9fa;
        border: 1px solid #ced4da;
        width: 30px;
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.2s;
    }
    
    .qty-btn:hover {
        background: #e9ecef;
    }
    
    .qty-decrement {
        border-radius: 4px 0 0 4px;
    }
    
    .qty-increment {
        border-radius: 0 4px 4px 0;
    }
    
    .qty-controls input {
        border-left: none;
        border-right: none;
        border-radius: 0;
        text-align: center;
        width: 60px;
        height: 38px;
    }
    
    .qty-controls input:focus {
        z-index: 1;
        position: relative;
    }
`,document.head.appendChild(style);